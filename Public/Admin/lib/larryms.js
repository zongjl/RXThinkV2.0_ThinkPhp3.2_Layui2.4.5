layui.define(["jquery","layer","laytpl","element"],function(e){var f=layui.$,l=layui.layer,c=layui.laytpl,n=layui.device(),t=layui.element,y=document,i=false,r={modules:{}},s="larryms",u=['<div class="larryms-message" id="messageBox">','<div class="larryms-message-box clearfix">','<i class="larry-icon {{d.ICONS}}"></i>','<div class="resultmsg">{{d.MSG}}</div>',"</div>","</div>"].join(""),d=function(e){var t=new Array;if(e!==undefined){scripts=y.getElementsByTagName("script");for(var i=0;i<scripts.length;i++){if(e==scripts[i].src.substring(scripts[i].src.lastIndexOf("/")+1)){var n=scripts[i].src.split("//")[1];t["commonPath"]=n.substring(n.indexOf("/"),n.lastIndexOf("/layui/")+1);t["url"]=n.substring(n.indexOf("/"),n.lastIndexOf("/layui/")+1)+"plus/";t["index"]=i}}t["obj"]=scripts}else{t["url"]=y.currentScript?y.currentScript.src:function(){var e=y.scripts,t=e.length-1,i;for(var n=t;n>0;n--){if(e[n].readyState=="interactive"){i=e[n].src;break}}return i||e[t].src}();if(t["url"]!==undefined&&t["url"]!==""){t["names"]=t["url"].substring(t["url"].lastIndexOf("/")+1)}else{t["names"]="layui.js"}}return t},a=function(){this.version="LarryMS 2.07 Beta2",this.tit=["【系统】提示您","【系统】错误提示","【系统】参数配置错误提示","【系统】数据源配置错误","【系统】关闭失败提示","【系统】操作成功","【系统】操作失败","【系统】 Ajax 调试信息控制台"],this.config={plusDir:"/common/plus/",jqDefined:undefined,jqUrl:undefined},this.debug=true,this.fonts={icon:undefined,url:undefined,online:false}};function o(e){var t=document.getElementsByTagName("head")[0],i=document.getElementById(e);if(i!==null){t.removeChild(i)}}function m(e,t,i){var n=d("layui.js").commonPath;if(t==undefined){if(f(".larry-icon").length>0){larryFonts=n+"css/fonts/larry-icon.css";layui.link(larryFonts)}if(f(".fa").length>0){awesomeFonts=n+"css/fonts/font-awesome.min.css";layui.link(awesomeFonts)}}else{if(i){o("layuicss-commoncssfontslarry-iconcss");layui.link(t)}else{layui.link(t)}}}function p(){if(n.ie&&n.ie<9){l.alert("本系统最低支持ie8，您当前使用的是古老的 IE"+n.ie+" \n 建议使用IE9及以上版本的现代浏览器",{title:"友情提示",skin:"larry-debug",icon:2,resize:false,zIndex:l.zIndex,anim:Math.ceil(Math.random()*6)})}if(n.android||n.ios||f(window).width()<768){f("body").addClass("larryms-mobile");var e=f("#larrymsMobileMenu"),t=f("#larrymsMobileShade");e.on("click",function(){if(f("#larry_layout").hasClass("larryms-mobile-layout")){f("#larry_layout").removeClass("larryms-mobile-layout")}else{f("#larry_layout").addClass("larryms-mobile-layout")}});t.on("click",function(){f("#larry_layout").removeClass("larryms-mobile-layout")})}else{f("body").removeClass("larryms-mobile")}if(n.ie){f(".larryms-layout").addClass("larryms-ie")}var i="";f("input.larry-input[type='text'],input.larry-input[type='password']").on("focus",function(){i=f(this).attr("placeholder");f(this).attr("placeholder","")});f("input.larry-input[type='text'],input.larry-input[type='password']").on("blur",function(){f(this).attr("placeholder",i)});m()}a.prototype.set=function(e){var t=this;f.extend(true,t.config,e);return t};a.prototype.font=function(e,t,i){if(e=="larry-icon"||e=="font-awesome"){if(f(".larry-icon").length>0||f(".fa").length>0){this.alert("默认支持的字体库已完成自动加载，或请检查是否修改了默认目录结构未成功加载icon样式，对于默认icon字体请勿使用该方法加载");return false}}m(e,t,i)};a.prototype.fontset=function(e){var t=this;f.extend(true,t.fonts,e);t.font(t.fonts.icon,t.fonts.url,t.fonts.online)};a.prototype.getPath=function(e){return d(e)};a.prototype.close=function(){return l.close(this.index)};a.prototype.success=function(e,t,i){this.close();return this.index=parent.layer.alert(e,{title:t,skin:"larry-green",icon:1,time:(i||0)*1e3,resize:false,zIndex:l.zIndex,anim:Math.ceil(Math.random()*6)})};a.prototype.error=function(e,t,i){this.close();return this.index=parent.layer.alert(e,{title:t,skin:"larry-debug",icon:2,time:0,resize:false,zIndex:l.zIndex,anim:Math.ceil(Math.random()*6)})};a.prototype.alert=function(e,t){this.close();return this.index=l.alert(e,{end:t,scrollbar:false})};a.prototype.tips=function(e,t,i){l.tips(e,t,i)};a.prototype.confirm=function(e,t,i){var n=this;return this.index=l.confirm(e,{icon:3,skin:"larry-green",title:n.tit[0],closeBtn:0,skin:"layui-layer-molv",anim:Math.ceil(Math.random()*6),btn:["确定","取消"]},function(){if(t&&typeof t==="function"){t.call(this)}n.close()},function(){if(i&&typeof i==="function"){i.call(this)}n.close()})};a.prototype.message=function(e,n,t,i){var r=this,e=e||"default",n=n||"other",l=t||"larry-xiaolian1",s=0,a;if(i!==undefined&&i!==0){a=i*1e3}else if(i==0){a=0;s=1}else{a=2500}if(e!="default"){if(n=="success"||n=="error"||n=="waring"){if(!t){if(n=="success"){l="larry-gou"}else if(n=="error"){l="larry-cuowu3"}else if(n=="waring"){l="larry-jinggao3"}}else{l=t}}o()}else{o()}function o(){return this.index=parent.layer.open({type:1,closeBtn:s,anim:Math.ceil(Math.random()*6),shadeClose:false,shade:0,title:false,time:a,area:["600px","auto"],resize:false,content:c(u).render({MSG:e,ICONS:l}),offset:"200px",success:function(e,t){if(n=="error"){f("#messageBox").addClass("larry-message-error")}else if(n=="waring"){f("#messageBox").addClass("larry-message-waring")}var i=(f("#messageBox").height()-80)/2;f("#messageBox i").css({"margin-top":i});f("#messageBox .resultmsg").width(f("#messageBox").width()-130)}})}};a.prototype.plugin=function(e,t,i){if(f.isPlainObject(i)){if(i.plusDir==undefined){i.plusDir=d("layui.js").url}if(i.jqUrl==undefined){i.jqUrl=d("layui.js").url}this.set(i)}else if(!f.isPlainObject(i)&&i!==undefined){this.error("第三方jQuery插件路径参数配置错误，请书写正确配置格式，否则将从默认路径加载插件！",this.tit[2])}else{this.set({plusDir:d("layui.js").url,jqDefined:null,jqUrl:null})}if(typeof e=="string"){var n=this.config.plusDir+e,r=y.createElement("script");r.type="text/javascript";r.src=n;r.async=false;var l=d().names,s=d(l).obj[d(l).index],a=y.getElementsByTagName("body")[0];if(!this.config.jqDefined){if(!window.jQuery&&f){window.jQuery=f;if(l!="layui.js"){try{a.insertBefore(r,s)}catch(e){}finally{s=d("layui.js").obj[d("layui.js").index],a.insertBefore(r,s.nextSibling)}}else{a.insertBefore(r,s.nextSibling.nextSibling)}}else if(window.jQuery&&f){if(l!="layui.js"){try{a.insertBefore(r,s)}catch(e){}finally{s=d("layui.js").obj[d("layui.js").index],a.insertBefore(r,s.nextSibling)}}else{a.insertBefore(r,s.nextSibling)}}else{this.error("上下文环境中未检测jQuery对象，请正确配置自定义jq插件或手动在页面中引入 否则任何依赖jquery的第三方插件将不能正常运行！！！",this.tit[1])}u()}else{var o=this.config.jqUrl+this.config.jqDefined,c=y.getElementsByTagName("head")[0];jq=y.createElement("script");jq.type="text/javascript";jq.src=o;c.appendChild(jq);if(y.all){jq.onreadystatechange=function(){var e=this.readyState;if(e==="loaded"||e==="complete"){window.jQuery=f;if(l!="layui.js"){try{a.insertBefore(r,s)}catch(e){}finally{a.appendChild(r)}}else{a.insertBefore(r,s.nextSibling)}u()}}}else{jq.onload=function(){window.jQuery=f;if(l!="layui.js"){try{a.insertBefore(r,s)}catch(e){}finally{a.appendChild(r)}}else{a.insertBefore(r,s.nextSibling)}u()}}}}function u(){if(y.all){r.onreadystatechange=function(){var e=this.readyState;if(e==="loaded"||e==="complete"){t()}}}else{r.onload=function(){t()}}}};a.prototype.htmlRender=function(e,t){var i=layui.cache.base+e+".html";f.ajax({url:i,type:"get",dataType:"html",async:false,success:function(e){f(t).html(e)}})};a.prototype.ajaxDebug=function(e,t,i,n){if(this.debug){if(e.readyState==4){var r=l.open({type:1,skin:"larry-debug",shadeClose:false,shade:0,title:this.tit[7],area:["800px","660px"],content:e.responseText,resize:true,btn:["关闭不刷新","关闭并刷新当前页"],yes:function(e,t){this.close(e);f(n).removeClass("layui-disabled").prop("disabled",false)},btn2:function(e,t){this.close(e);location.reload()}})}}else{this.error("数据提交失败！",this.tit[0])}};a.prototype.cleanCached=function(e){layui.data(e,null);localStorage.clear();sessionStorage.clear();g()};a.prototype.logOut=function(e,t,i){this.confirm("确定退出系统吗！",function(){a.prototype.cleanCached("larry_menu");top.location.href=e},i=h)};function h(){l.msg("成功返回系统",{time:1e3,btnAlign:"c"})}function g(){var e=document.cookie.match(/[^ =;]+(?=\=)/g);if(e){for(var t=e.length;t--;)document.cookie=e[t]+"=0;expires="+new Date(0).toUTCString()}}a.prototype.fullScreen=function(e){var t=document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement;if(t==null){x();f(e).html('<i class="larry-icon">&#xe8e3;</i>全屏切换')}else{j();f(e).html('<i class="larry-icon">&#xe8d4;</i>全屏切换')}};function x(){var e=document.documentElement;if(e.requestFullScreen){e.requestFullScreen()}else if(e.mozRequestFullScreen){e.mozRequestFullScreen()}else if(e.webkitRequestFullScreen){e.webkitRequestFullScreen()}}function j(){var e=document;if(e.exitFullscreen){e.exitFullscreen()}else if(e.mozCancelFullScreen){e.mozCancelFullScreen()}else if(e.webkitCancelFullScreen){e.webkitCancelFullScreen()}}if(window.top==window.self){p()}var b=new a;e(s,b)});